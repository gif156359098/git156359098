!function(e,t){"object"===typeof exports&&"object"===typeof module?module.exports=t(require("React"),require("ReactDOM")):"function"===typeof define&&define.amd?define(["React","ReactDOM"],t):"object"===typeof exports?exports.SearchBeautify=t(require("React"),require("ReactDOM")):e.SearchBeautify=t(e.React,e.ReactDOM)}(self,(function(e,t){return function(){"use strict";var n={5235:function(e,t,n){n.r(t),n.d(t,{hidden:function(){return G},run:function(){return F}});var r=n(3144),o=n(5671),i=n(1024),c=n.n(i),a=n(1739),u=n(8575),l=n(1413),A=n(8536),s=n(9439),d=n(1630),f=n(8907),g=n(6417),h=c().memo((function(e){return(0,g.jsx)("div",{className:"ant-layout-header-logo",children:(0,g.jsx)("a",{href:"/",className:"flex",children:(0,g.jsx)("img",{src:"//www.baidu.com/img/flexible/logo/pc/result.png",alt:"\u767e\u5ea6",title:"\u767e\u5ea6"})})})})),m=n(4462),E=n(2884),Q=n(3927),y=n(79),p=n(5948),v=c().memo((function(e){var t=(0,p.Z)(!1),n=(0,s.Z)(t,2),r=n[0],o=n[1],i=o.setTrue,c=o.set;return(0,g.jsxs)(g.Fragment,{children:[(0,g.jsx)(E.Z,{preview:{visible:!1},height:80,src:e.list[0]||"",onClick:i}),(0,g.jsx)("div",{style:{display:"none"},children:(0,g.jsx)(E.Z.PreviewGroup,{preview:{visible:r,onVisibleChange:function(e){return c(e)},getContainer:function(){return document.querySelector("#__search-beautify")||document.body}},children:e.list.map((function(e,t){return(0,g.jsx)(E.Z,{src:e},t)}))})})]})}));function B(){return function(e,t,n,r){t=t||"&",n=n||"=";var o={};if("string"!==typeof e||0===e.length)return o;var i=/\+/g;e=e.split(t);var c=1e3;r&&"number"===typeof r.maxKeys&&(c=r.maxKeys);var a=e.length;c>0&&a>c&&(a=c);for(var u=0;u<a;++u){var l,A,s,d,f=e[u].replace(i,"%20"),g=f.indexOf(n);g>=0?(l=f.substr(0,g),A=f.substr(g+1)):(l=f,A=""),s=decodeURIComponent(l),d=decodeURIComponent(A),Object.hasOwnProperty.call(o,s)?Array.isArray(o[s])?o[s].push(d):o[s]=[o[s],d]:o[s]=d}return o}(document.location.href.split("?")[1])}var x=c().memo((function(e){return(0,g.jsx)(y.default,{loading:(e.list||[]).length<1,className:"search-result-list",size:"large",itemLayout:"vertical",dataSource:e.list||[],renderItem:function(e,t){return(0,g.jsx)(b,{data:e},t)}})})),b=c().memo((function(e){var t,n=e.data,r=(0,i.useState)(n.url),o=(0,s.Z)(r,2),c=o[0],a=o[1];return(0,d.Z)((function(){n.url.includes("baidu.com/link?url=")&&function(e){return e=e.replace(/^http:/,"https:")+"&wd=&eqid=",new Promise((function(t){window.GM_xmlhttpRequest({url:e,method:"get",headers:{Accept:"*/*"},onload:function(e){if(e.finalUrl.includes("baidu.com/link?url=")){var n=e.responseText.match(/window.location.replace\("(.+)"\)/);if(n&&2===n.length)return void t(n[1])}t(e.finalUrl)},onerror:function(){t(e)}})}))}(n.url).then((function(e){return a(e)}))})),(0,g.jsx)(y.default.Item,{actions:(t=n,t.source?[(0,g.jsxs)(Q.Z.Text,{type:"secondary",children:["\u6765\u6e90: ",t.source]})]:[]),extra:(0,g.jsx)(g.Fragment,{children:function(e){if(!e.images)return;if(e.images&&e.images.length<1)return;return(0,g.jsx)(v,{list:e.images})}(n)}),children:(0,g.jsx)(y.default.Item.Meta,{title:function(e){if(c){var t=new URL(c);return(0,g.jsx)("a",{href:c,target:"_blank",rel:"noreferrer",children:(0,g.jsxs)(m.default,{children:[(0,g.jsx)(E.Z,{preview:!1,width:16,height:16,src:t.origin+"/favicon.ico",alt:"favicon",fallback:S}),(0,g.jsx)("span",{children:e.title||""})]})})}return e.title||""}(n),description:n.content||""})})})),S="data:image/png;base64,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",j=x,w=n(137),C=n(4122),I=c().memo((function(){var e="",t=window.location.origin;t.includes("baidu.com")&&(e=B().wd||"");var n=(0,C.Z)((function(e,n){t.includes("baidu.com")&&(document.location.href="https://www.baidu.com/s?wd=".concat(e))}));return(0,g.jsx)(w.Z.Search,{size:"large",className:"ant-layout-header-search",allowClear:!0,enterButton:"\u641c\u7d22",defaultValue:e,style:{width:700},onSearch:n})})),N=n(7468),k=c().memo((function(e){var t=(0,C.Z)((function(e,t){if(window.location.origin.includes("baidu.com")){var n=B().wd;document.location.href=1===e?"https://www.baidu.com/s?wd=".concat(n):"https://www.baidu.com/s?wd=".concat(n,"&pn=").concat(10*(e-1))}}));return(0,g.jsx)(N.default,(0,l.Z)((0,l.Z)({},e),{},{showSizeChanger:!1,style:{textAlign:"center"},onChange:t}))}));var Z=(0,r.Z)((function e(){(0,o.Z)(this,e)}));Z.parserBaidu=function(){var e=[],t=[],n=document.querySelectorAll('#content_left .c-container.new-pmd[tpl*="_"]');Array.from(n||[]).forEach((function(t){"recommend_list"!==t.getAttribute("tpl")&&"wenda_abstract_pc"!==t.getAttribute("tpl")&&e.push(t)})),e.forEach((function(e){var n,r,o=e.getAttribute("tpl"),i="",c="",a=[];n=(e.querySelector(".c-title")||{}).innerText||(e.querySelector(".ec_title")||{}).innerText||(e.querySelector(".t.c-line-clamp1")||{}).innerText||(e.querySelector(".t")||{}).innerText||"",r=(e.querySelector("a")||{}).href||"",a=Array.from(e.querySelectorAll("div.c-img-radius-large img")).map((function(e){return e.src}));var u=e.querySelector(".source_1Vdff");if(u&&(c=(u.querySelector("a")||u.querySelector(".site_3BHdI")||{}).innerText||""),"bk_polysemy"===o)i=(e.querySelector(".c-font-normal")||e.querySelector(".c-color-text")||{}).innerText||"";else if("img_normal"===o)a=Array.from(e.querySelectorAll('div[class*="image-content_"] img')).map((function(e){return e.src})),i="";else if("kaifa_pc_blog_weak"===o){i=(e.querySelector(".c-row.c-color-text")||{}).innerText||""}else if("kaifa_pc_open_source_software"===o){i=(e.querySelector(".c-color-text.c-line-clamp2")||{}).innerText||""}else if("se_st_single_video_zhanzhang"===o){c=(e.querySelector("span.c-showurl")||{}).innerText||"",i=(e.querySelectorAll("p")[1]||{}).innerText||""}else if("se_com_default"===o){var l=e.querySelector(".c-color-gray2")||{},A=e.querySelector(".content-right_8Zs40")||{};i=(l.innerText||"")+(A.innerText||"")}t.push({platform:"baidu",title:n,content:i,source:c,url:r,images:a})}));var r={current:1,total:0},o=document.querySelector("#page");if(o){var i=o.querySelectorAll(".page-item_M4MDr.pc");i.forEach((function(e,t){"STRONG"===e.parentNode.tagName&&(r.current=Number(e.innerText||"0"))})),r.total=10*Number(i[i.length-1].innerText||"0")}return{list:t,pagination:r}},Z.parser=function(e){var t=Z;if(window.location.origin.includes("baidu.com"))if(document.getElementById("content_left"))e(t.parserBaidu());else{document.getElementById("wrapper").addEventListener("DOMNodeInserted",(function n(){e(t.parserBaidu()),document.getElementById("wrapper").removeEventListener("DOMNodeInserted",n)}))}};var J=n(2576),R=n(5573),q=n(6600),K=n(7223),M=n(8165),T=n.n(M),_=n(8580),U=(0,r.Z)((function e(){(0,o.Z)(this,e)}));U.open=function(){var e,t=window,n=t.GM_addStyle,r=t.GM_getResourceText,o=t.GM_setValue;n&&r&&(n(r("antdDarkCss")).id="__ant-theme-dark",null===(e=document.querySelector("html"))||void 0===e||e.setAttribute("dark","true"));o&&o("__ant-theme-dark","true")},U.close=function(){var e,t=window.GM_setValue,n=document.getElementById("__ant-theme-dark");n&&(n.remove(),null===(e=document.querySelector("html"))||void 0===e||e.removeAttribute("dark"));t&&t("__ant-theme-dark","false")};var z=c().memo((function(){return(0,g.jsx)(q.Z,{overlay:D,trigger:["click"],overlayStyle:{minWidth:140},placement:"bottomRight",children:(0,g.jsx)(K.default,{size:"large",className:"ant-settings",type:"text",shape:"circle",icon:(0,g.jsx)(T(),{})})})})),Y=c().memo((function(){var e=(0,_.Z)("--ant-theme-dark",{defaultValue:"false"}),t=(0,s.Z)(e,2),n=t[0],r=t[1],o=(0,C.Z)((function(){"true"===n?(r("false"),U.close()):(r("true"),U.open())}));return(0,g.jsxs)(m.default,{onClick:o,style:{width:"100%"},children:[(0,g.jsx)(R.Z,{checked:"true"===n}),(0,g.jsx)("span",{children:"\u6697\u9ed1\u6a21\u5f0f"})]})})),D=(0,g.jsx)(J.Z,{items:[{key:"0",label:(0,g.jsx)(Y,{})}]}),P=z;var O=function(){var e=(0,i.useState)({list:[],pagination:{current:1,total:0}}),t=(0,s.Z)(e,2),n=t[0],r=t[1];return(0,d.Z)((function(){Z.parser((function(e){r(e)}))})),(0,g.jsx)(u.default,{locale:f.Z,getPopupContainer:function(){return document.querySelector("#__search-beautify")||document.body},children:(0,g.jsxs)(A.Z,{children:[(0,g.jsxs)(A.Z.Header,{style:{background:"var(--ant-layout-header-bg)"},children:[(0,g.jsx)(h,{}),(0,g.jsx)("div",{className:"flex-full flex-align-center",children:(0,g.jsx)(I,{})}),(0,g.jsx)(P,{})]}),(0,g.jsxs)(A.Z.Content,{children:[(0,g.jsx)(j,{list:n.list}),(0,g.jsx)(k,(0,l.Z)({},n.pagination))]})]})})},H=(0,r.Z)((function e(){(0,o.Z)(this,e)}));function F(){H.run()}function G(){H.hidden()}H._root=void 0,H.run=function(){H._root||(H._root=document.createElement("div"),H._root.id="__search-beautify",document.body.childNodes.length<1?document.body.appendChild(H._root):document.body.insertBefore(H._root,document.body.firstChild)),a.createRoot(H._root).render((0,g.jsx)(c().StrictMode,{children:(0,g.jsx)(O,{})}))},H.hidden=function(){H._root&&(H._root.style.display="none")}},1024:function(t){t.exports=e},314:function(e){e.exports=t}},r={};function o(e){var t=r[e];if(void 0!==t)return t.exports;var i=r[e]={id:e,loaded:!1,exports:{}};return n[e](i,i.exports,o),i.loaded=!0,i.exports}o.m=n,function(){var e=[];o.O=function(t,n,r,i){if(!n){var c=1/0;for(A=0;A<e.length;A++){n=e[A][0],r=e[A][1],i=e[A][2];for(var a=!0,u=0;u<n.length;u++)(!1&i||c>=i)&&Object.keys(o.O).every((function(e){return o.O[e](n[u])}))?n.splice(u--,1):(a=!1,i<c&&(c=i));if(a){e.splice(A--,1);var l=r();void 0!==l&&(t=l)}}return t}i=i||0;for(var A=e.length;A>0&&e[A-1][2]>i;A--)e[A]=e[A-1];e[A]=[n,r,i]}}(),o.n=function(e){var t=e&&e.__esModule?function(){return e.default}:function(){return e};return o.d(t,{a:t}),t},o.d=function(e,t){for(var n in t)o.o(t,n)&&!o.o(e,n)&&Object.defineProperty(e,n,{enumerable:!0,get:t[n]})},o.g=function(){if("object"===typeof globalThis)return globalThis;try{return this||new Function("return this")()}catch(e){if("object"===typeof window)return window}}(),o.o=function(e,t){return Object.prototype.hasOwnProperty.call(e,t)},o.r=function(e){"undefined"!==typeof Symbol&&Symbol.toStringTag&&Object.defineProperty(e,Symbol.toStringTag,{value:"Module"}),Object.defineProperty(e,"__esModule",{value:!0})},o.nmd=function(e){return e.paths=[],e.children||(e.children=[]),e},function(){var e={179:0};o.O.j=function(t){return 0===e[t]};var t=function(t,n){var r,i,c=n[0],a=n[1],u=n[2],l=0;if(c.some((function(t){return 0!==e[t]}))){for(r in a)o.o(a,r)&&(o.m[r]=a[r]);if(u)var A=u(o)}for(t&&t(n);l<c.length;l++)i=c[l],o.o(e,i)&&e[i]&&e[i][0](),e[i]=0;return o.O(A)},n=self.webpackChunkSearchBeautify=self.webpackChunkSearchBeautify||[];n.forEach(t.bind(null,0)),n.push=t.bind(null,n.push.bind(n))}();var i=o.O(void 0,[24,977],(function(){return o(5235)}));return i=o.O(i)}()}));