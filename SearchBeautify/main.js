!function(e,t){"object"===typeof exports&&"object"===typeof module?module.exports=t(require("React"),require("ReactDOM"),require("mobx"),require("mobxReactLite")):"function"===typeof define&&define.amd?define(["React","ReactDOM","mobx","mobxReactLite"],t):"object"===typeof exports?exports.SearchBeautify=t(require("React"),require("ReactDOM"),require("mobx"),require("mobxReactLite")):e.SearchBeautify=t(e.React,e.ReactDOM,e.mobx,e.mobxReactLite)}(self,(function(e,t,n,r){return function(){"use strict";var o={6315:function(e,t,n){n.r(t),n.d(t,{hidden:function(){return V},run:function(){return X}});var r=n(3144),o=n(5671),i=n(1024),a=n.n(i),c=n(1739),u=n(8575),s=n(8536),l=n(1630),A=n(8907),d=n(259),g=new(function(){function e(){var t=this;(0,o.Z)(this,e),this._isDark=!1,this._loading=!1,this._list=[],this._pagination={current:1,total:0},this.setDark=function(e){t._isDark=e},this.setLoading=function(e){t._loading=e},this.setPagination=function(e){t._pagination=e},this.setList=function(e){t._list=e},(0,d.makeAutoObservable)(this)}return(0,r.Z)(e,[{key:"isDark",get:function(){return(0,d.toJS)(this._isDark)}},{key:"loading",get:function(){return(0,d.toJS)(this._loading)}},{key:"list",get:function(){return(0,d.toJS)(this._list)}},{key:"pagination",get:function(){return(0,d.toJS)(this._pagination)}}]),e}());var f=(0,r.Z)((function e(){(0,o.Z)(this,e)}));f.parserBaidu=function(e){var t=e||window.document,n=[],r=[],o=t.querySelectorAll('#content_left .c-container.new-pmd[tpl*="_"]');Array.from(o||[]).forEach((function(e){"recommend_list"!==e.getAttribute("tpl")&&"wenda_abstract_pc"!==e.getAttribute("tpl")&&n.push(e)})),n.forEach((function(e){var t,n,o=e.getAttribute("tpl"),i="",a="",c=[];t=(e.querySelector(".c-title")||{}).innerText||(e.querySelector(".ec_title")||{}).innerText||(e.querySelector(".t.c-line-clamp1")||{}).innerText||(e.querySelector(".t")||{}).innerText||"",n=(e.querySelector("a")||{}).href||"",c=Array.from(e.querySelectorAll("div.c-img-radius-large img")).map((function(e){return e.src}));var u=e.querySelector(".source_1Vdff");if(u&&(a=(u.querySelector("a")||u.querySelector(".site_3BHdI")||{}).innerText||""),"bk_polysemy"===o)i=(e.querySelector(".c-font-normal")||e.querySelector(".c-color-text")||{}).innerText||"";else if("img_normal"===o)c=Array.from(e.querySelectorAll('div[class*="image-content_"] img')).map((function(e){return e.src})),i="";else if("kaifa_pc_blog_weak"===o){i=(e.querySelector(".c-row.c-color-text")||{}).innerText||""}else if("kaifa_pc_open_source_software"===o){i=(e.querySelector(".c-color-text.c-line-clamp2")||{}).innerText||""}else if("se_st_single_video_zhanzhang"===o){a=(e.querySelector("span.c-showurl")||{}).innerText||"",i=(e.querySelectorAll("p")[1]||{}).innerText||""}else if("se_com_default"===o){var s=e.querySelector(".c-color-gray2")||{},l=e.querySelector(".content-right_8Zs40")||{};i=(s.innerText||"")+(l.innerText||"")}r.push({platform:"baidu",title:t,content:i,source:a,url:n,images:c})}));var i={current:1,total:0},a=t.querySelector("#page");if(a){var c=a.querySelectorAll(".page-item_M4MDr.pc");c.forEach((function(e,t){"STRONG"===e.parentNode.tagName&&(i.current=Number(e.innerText||"0"))})),i.total=10*Number(c[c.length-1].innerText||"0")}return{list:r,pagination:i}},f.parser=function(e,t){var n=f;if(window.location.origin.includes("baidu.com"))if(document.getElementById("content_left"))e(n.parserBaidu(t));else{document.getElementById("wrapper").addEventListener("DOMNodeInserted",(function r(){e(n.parserBaidu(t)),document.getElementById("wrapper").removeEventListener("DOMNodeInserted",r)}))}};var h=n(6417),m=a().memo((function(e){return(0,h.jsx)("div",{className:"ant-layout-header-logo",children:(0,h.jsx)("a",{href:"/",className:"flex",children:(0,h.jsx)("img",{src:"//www.baidu.com/img/flexible/logo/pc/result.png",alt:"\u767e\u5ea6",title:"\u767e\u5ea6"})})})})),E=n(4462),Q=n(2884),p=n(3927),y=n(9439),x=n(79),v=n(1747);function b(){return function(e,t,n,r){t=t||"&",n=n||"=";var o={};if("string"!==typeof e||0===e.length)return o;var i=/\+/g;e=e.split(t);var a=1e3;r&&"number"===typeof r.maxKeys&&(a=r.maxKeys);var c=e.length;a>0&&c>a&&(c=a);for(var u=0;u<c;++u){var s,l,A,d,g=e[u].replace(i,"%20"),f=g.indexOf(n);f>=0?(s=g.substr(0,f),l=g.substr(f+1)):(s=g,l=""),A=decodeURIComponent(s),d=decodeURIComponent(l),Object.hasOwnProperty.call(o,A)?Array.isArray(o[A])?o[A].push(d):o[A]=[o[A],d]:o[A]=d}return o}(document.location.href.split("?")[1])}var B=n(5948),w=a().memo((function(e){var t=(0,B.Z)(!1),n=(0,y.Z)(t,2),r=n[0],o=n[1],i=o.setTrue,a=o.set;return(0,h.jsxs)(h.Fragment,{children:[(0,h.jsx)(Q.Z,{preview:{visible:!1},height:80,src:e.list[0]||"",onClick:i}),(0,h.jsx)("div",{style:{display:"none"},children:(0,h.jsx)(Q.Z.PreviewGroup,{preview:{visible:r,onVisibleChange:function(e){return a(e)},getContainer:function(){return document.querySelector("#__search-beautify")||document.body}},children:e.list.map((function(e,t){return(0,h.jsx)(Q.Z,{src:e},t)}))})})]})})),S=(0,v.observer)((function(){var e=g.list,t=g.loading;return(0,h.jsx)(x.default,{loading:t,size:"large",className:"search-result-list",itemLayout:"vertical",dataSource:e,renderItem:function(e,t){return(0,h.jsx)(j,{data:e},e.url)}})})),j=a().memo((function(e){var t,n=e.data,r=(0,i.useState)(n.url),o=(0,y.Z)(r,2),a=o[0],c=o[1];return(0,l.Z)((function(){n.url.includes("baidu.com/link?url=")&&function(e){return e=e.replace(/^http:/,"https:")+"&wd=&eqid=",new Promise((function(t){window.GM_xmlhttpRequest({url:e,method:"get",headers:{Accept:"*/*"},onload:function(e){if(e.finalUrl.includes("baidu.com/link?url=")){var n=e.responseText.match(/window.location.replace\("(.+)"\)/);if(n&&2===n.length)return void t(n[1])}t(e.finalUrl)},onerror:function(){t(e)}})}))}(n.url).then((function(e){return c(e)}))})),(0,h.jsx)(x.default.Item,{actions:(t=n,t.source?[(0,h.jsxs)(p.Z.Text,{type:"secondary",children:["\u6765\u6e90: ",t.source]})]:[]),extra:(0,h.jsx)(h.Fragment,{children:function(e){if(!e.images)return;if(e.images&&e.images.length<1)return;return(0,h.jsx)(w,{list:e.images})}(n)}),children:(0,h.jsx)(x.default.Item.Meta,{title:function(e){if(a){var t=new URL(a);return(0,h.jsx)("a",{href:a,target:"_blank",rel:"noreferrer",children:(0,h.jsxs)(E.default,{children:[(0,h.jsx)(Q.Z,{preview:!1,width:16,height:16,src:t.origin+"/favicon.ico",alt:"favicon",fallback:k}),(0,h.jsx)("span",{children:e.title||""})]})})}return e.title||""}(n),description:n.content||""})})})),k="data:image/png;base64,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",C=S,I=n(137),N=n(4122),R=a().memo((function(){var e="",t=window.location.origin;t.includes("baidu.com")&&(e=b().wd||"");var n=(0,N.Z)((function(e,n){if(t.includes("baidu.com")){var r="https://www.baidu.com/s?wd=".concat(e);window.history.pushState({},"0",r),g.setLoading(!0),window.GM_xmlhttpRequest({url:r,method:"GET",onload:function(e){if(e.response){var t=(new DOMParser).parseFromString(e.response,"text/html");f.parser((function(e){g.setList(e.list),g.setPagination(e.pagination),g.setLoading(!1)}),t)}},onerror:function(e){g.setLoading(!1),console.log(e)}})}}));return(0,h.jsx)(I.Z.Search,{size:"large",className:"ant-layout-header-search",allowClear:!0,enterButton:"\u641c\u7d22",defaultValue:e,style:{width:700},onSearch:n})})),J=n(1413),Z=n(7468),_=(0,v.observer)((function(){var e=g.pagination,t=(0,N.Z)((function(e,t){if(window.location.origin.includes("baidu.com")){var n=b().wd,r="";r=1===e?"https://www.baidu.com/s?wd=".concat(n):"https://www.baidu.com/s?wd=".concat(n,"&pn=").concat(10*(e-1)),g.setLoading(!0),window.GM_xmlhttpRequest({url:r,method:"GET",onload:function(e){if(e.response){var t=(new DOMParser).parseFromString(e.response,"text/html");f.parser((function(e){g.setList(e.list),g.setPagination(e.pagination),g.setLoading(!1)}),t)}},onerror:function(e){g.setLoading(!1),console.log(e)}})}}));return(0,h.jsx)(Z.default,(0,J.Z)((0,J.Z)({},e),{},{showSizeChanger:!1,style:{textAlign:"center"},onChange:t}))})),q=n(2576),M=n(5573),K=n(6600),T=n(7223),L=n(8165),D=n.n(L),U=n(8580),P=(0,r.Z)((function e(){(0,o.Z)(this,e)}));P.open=function(){var e,t=window,n=t.GM_addStyle,r=t.GM_getResourceText,o=t.GM_setValue;n&&r&&(n(r("antdDarkCss")).id="__ant-theme-dark",null===(e=document.querySelector("html"))||void 0===e||e.setAttribute("dark","true"));o&&o("__ant-theme-dark","true")},P.close=function(){var e,t=window.GM_setValue,n=document.getElementById("__ant-theme-dark");n&&(n.remove(),null===(e=document.querySelector("html"))||void 0===e||e.removeAttribute("dark"));t&&t("__ant-theme-dark","false")};var z=a().memo((function(){return(0,h.jsx)(K.Z,{overlay:Y,trigger:["click"],overlayStyle:{minWidth:140},placement:"bottomRight",children:(0,h.jsx)(T.default,{size:"large",className:"ant-settings",type:"text",shape:"circle",icon:(0,h.jsx)(D(),{})})})})),O=a().memo((function(){var e=(0,U.Z)("--ant-theme-dark",{defaultValue:"false"}),t=(0,y.Z)(e,2),n=t[0],r=t[1],o=(0,N.Z)((function(){"true"===n?(r("false"),P.close()):(r("true"),P.open())}));return(0,h.jsxs)(E.default,{onClick:o,style:{width:"100%"},children:[(0,h.jsx)(M.Z,{checked:"true"===n}),(0,h.jsx)("span",{children:"\u6697\u9ed1\u6a21\u5f0f"})]})})),Y=(0,h.jsx)(q.Z,{items:[{key:"0",label:(0,h.jsx)(O,{})}]}),G=z;var F=function(){return(0,l.Z)((function(){g.setLoading(!0),f.parser((function(e){g.setList(e.list),g.setPagination(e.pagination),g.setLoading(!1)}))})),(0,h.jsx)(u.default,{locale:A.Z,children:(0,h.jsxs)(s.Z,{children:[(0,h.jsxs)(s.Z.Header,{style:{background:"var(--ant-layout-header-bg)"},children:[(0,h.jsx)(m,{}),(0,h.jsx)("div",{className:"flex-full flex-align-center",children:(0,h.jsx)(R,{})}),(0,h.jsx)(G,{})]}),(0,h.jsxs)(s.Z.Content,{children:[(0,h.jsx)(C,{}),(0,h.jsx)(_,{})]})]})})},H=(0,r.Z)((function e(){(0,o.Z)(this,e)}));function X(){H.run()}function V(){H.hidden()}H._root=void 0,H.run=function(){H._root||(H._root=document.createElement("div"),H._root.id="__search-beautify",document.body.childNodes.length<1?document.body.appendChild(H._root):document.body.insertBefore(H._root,document.body.firstChild)),c.createRoot(H._root).render((0,h.jsx)(a().StrictMode,{children:(0,h.jsx)(F,{})}))},H.hidden=function(){H._root&&(H._root.style.display="none")}},1024:function(t){t.exports=e},314:function(e){e.exports=t},259:function(e){e.exports=n},1747:function(e){e.exports=r}},i={};function a(e){var t=i[e];if(void 0!==t)return t.exports;var n=i[e]={id:e,loaded:!1,exports:{}};return o[e](n,n.exports,a),n.loaded=!0,n.exports}a.m=o,function(){var e=[];a.O=function(t,n,r,o){if(!n){var i=1/0;for(l=0;l<e.length;l++){n=e[l][0],r=e[l][1],o=e[l][2];for(var c=!0,u=0;u<n.length;u++)(!1&o||i>=o)&&Object.keys(a.O).every((function(e){return a.O[e](n[u])}))?n.splice(u--,1):(c=!1,o<i&&(i=o));if(c){e.splice(l--,1);var s=r();void 0!==s&&(t=s)}}return t}o=o||0;for(var l=e.length;l>0&&e[l-1][2]>o;l--)e[l]=e[l-1];e[l]=[n,r,o]}}(),a.n=function(e){var t=e&&e.__esModule?function(){return e.default}:function(){return e};return a.d(t,{a:t}),t},a.d=function(e,t){for(var n in t)a.o(t,n)&&!a.o(e,n)&&Object.defineProperty(e,n,{enumerable:!0,get:t[n]})},a.g=function(){if("object"===typeof globalThis)return globalThis;try{return this||new Function("return this")()}catch(e){if("object"===typeof window)return window}}(),a.o=function(e,t){return Object.prototype.hasOwnProperty.call(e,t)},a.r=function(e){"undefined"!==typeof Symbol&&Symbol.toStringTag&&Object.defineProperty(e,Symbol.toStringTag,{value:"Module"}),Object.defineProperty(e,"__esModule",{value:!0})},a.nmd=function(e){return e.paths=[],e.children||(e.children=[]),e},function(){var e={179:0};a.O.j=function(t){return 0===e[t]};var t=function(t,n){var r,o,i=n[0],c=n[1],u=n[2],s=0;if(i.some((function(t){return 0!==e[t]}))){for(r in c)a.o(c,r)&&(a.m[r]=c[r]);if(u)var l=u(a)}for(t&&t(n);s<i.length;s++)o=i[s],a.o(e,o)&&e[o]&&e[o][0](),e[o]=0;return a.O(l)},n=self.webpackChunkSearchBeautify=self.webpackChunkSearchBeautify||[];n.forEach(t.bind(null,0)),n.push=t.bind(null,n.push.bind(n))}();var c=a.O(void 0,[24,977],(function(){return a(6315)}));return c=a.O(c)}()}));